# 服务器安全运维规范---安全运维的事前、事中、事后

# 事前检查和监控
1. 服务器和网站漏洞检测，对Web漏洞、弱口令、潜在的恶意行为、违法信息等进行定期扫描。
2. 代码的定期检查，安全检查，漏洞检查。
3. 服务器安全加固。
4. 网站WEB增加WAF，避免XSS跨站脚本、SQL注入、网页挂马等漏洞威胁。
5. 监控服务器SSH登录记录、iptables状态、进程状态，有异常记录告警。
6. 监控网站WEB日志，有异常日志告警。
7. 服务器数据备份，包括网站程序文件备份，数据库文件备份、配置文件备份，如有资源最好每小时备份。
8. 重要数据多重加密算法加密处理。
9. 数据库执行的命令，添加字段、加索引等，必须是经过测试的命令，才能在正式环境运行。
10.程序代码连接数据库、memcache、redis等，可以使用域名（域名HOSTS指定IP），当出问题，有备用的服务器，就可以通过修改DNS或者HOSTS，恢复服务。

# 事中操作
1. 网站WEB增加WAF，发现XSS、SQL注入、网页挂马等攻击，会自动拦截，并记录日志。
2. 检查服务器数据备份是否可用。
3. 在处理需求和故障时，执行风险命令（比如rm、restart、reboot等）需再三确认，执行命令前，检查所在服务器，所在服务器路径，再执行！

# 事后检查分析
1. 实现网络安全可视化管理。
2. 能对全网进行安全策略集中管理。
3. 统一日志收集和分析。
4. 备份及篡改恢复功能。
5. 对攻击进行深度分析，展现攻击路径、攻击源，协助管理员溯源。